# Hybrid RAG Chatbot using Mistral-7B

## Overview
This project implements a Hybrid RAG (Retrieval-Augmented Generation) Chatbot using Mistral-7B. It leverages a combination of semantic search using FAISS and keyword search using BM25 to retrieve relevant context from uploaded PDF documents. The chatbot then generates accurate answers using the Mistral-7B language model.

## Features
- Hybrid Search using FAISS (Semantic Search) and BM25 (Keyword Search)
- Fine-tuning with Reinforcement Learning from Human Feedback (RLHF)
- PDF document upload and chunking for efficient processing
- Feedback collection for continuous model improvement
- Django API endpoint for deployment
- Streamlit-based UI for a conversational experience

## Prerequisites
- Python 3.10 or higher
- CUDA-compatible GPU (if using GPU acceleration)
- Docker (optional for deployment)

## Installation
1. Clone the repository:
```bash
git clone https://github.com/your-repo/hybrid-rag-chatbot.git
cd hybrid-rag-chatbot
```

2. Create and activate a virtual environment:
```bash
python3 -m venv my_env
source my_env/bin/activate
```

3. Install dependencies:
```bash
pip install -r requirements.txt
```

4. Install additional packages if needed:
```bash
pip install torch torchvision
pip install ray
pip install faiss-cpu
pip install sentence-transformers
```

## Usage
### Running the Streamlit App
```bash
streamlit run app.py

ollama list
ollama pull mistral:latest
ollama pull llama2:latest
ollama pull phi:latest

```
- Upload a PDF document.
- Ask questions in the chat input.
- Get answers generated by the chatbot.
- Provide feedback to improve the chatbot's responses.

### Running the API with Django
1. Start the Django server:
```bash
python manage.py runserver
```
2. Make a POST request to the API endpoint:
```bash
curl -X POST http://127.0.0.1:8000/generate/ \
-H "Content-Type: application/json" \
-d '{"question": "Your question", "pdf_path": "path/to/pdf"}'
```

## Fine-tuning the Model
To perform RLHF-based fine-tuning:
```bash
python fine_tune.py
```
Ensure the `feedback_data.json` contains user feedback for effective training.

## Troubleshooting
- **Ray not found error:** Ensure Ray is installed using `pip install ray`.
- **FAISS errors:** Ensure you installed the correct version using `pip install faiss-cpu`.
- **GPU issues:** Confirm CUDA is installed and use `torch.cuda.is_available()` to verify.

## Contribution
Feel free to submit issues, feature requests, or contribute code by creating pull requests.

## License
This project is licensed under the MIT License. See the LICENSE file for details.

